module_name: uorb_uart_proxy
serial_config:
    - command: uorb_uart_proxy start -d ${SERIAL_DEV} -b ${BAUD}
      port_config_param:
        name: UART_PROXY_DEV
        group: uORB UART Proxy
      baudrate_config_param:
        name: UART_PROXY_BAUD
        group: uORB UART Proxy

parameters:
    - group: uORB UART Proxy
      definitions:
        UART_PROXY_EN:
            description:
                short: uORB UART Proxy Enable
                long: |
                    Enable the uORB UART Proxy module for distributed uORB messaging.
                    This module runs on NXT-Dual controller boards and communicates
                    with the X7+ main board.
            type: int32
            values:
                0: Disabled
                1: Enabled
            default: 1

        UART_PROXY_PORT:
            description:
                short: uORB UART Proxy Port
                long: |
                    Serial port selection for uORB UART Proxy.
                    Specifies which UART port to use for communication with the X7+ main board.
            type: int32
            values:
                1: ttyS1
                2: ttyS2
                3: ttyS3
                4: ttyS4
            min: 1
            max: 4
            default: 1
            reboot_required: true

        UART_PROXY_BAUD:
            description:
                short: uORB UART Proxy Baudrate
                long: |
                    Serial communication baudrate for uORB UART Proxy.
                    Must match the baudrate configured on the X7+ main board.
            type: int32
            values:
                9600: 9600 baud
                19200: 19200 baud
                38400: 38400 baud
                57600: 57600 baud
                115200: 115200 baud
                230400: 230400 baud
                460800: 460800 baud
                921600: 921600 baud
                1000000: 1000000 baud
            min: 9600
            max: 1000000
            unit: bps
            default: 921600
            reboot_required: true

        UART_PROXY_TO:
            description:
                short: uORB UART Proxy Timeout
                long: |
                    Communication timeout in milliseconds.
                    If no response is received within this time, the communication
                    is considered failed and will be retried.
            type: int32
            min: 10
            max: 1000
            unit: ms
            default: 100

        UART_PROXY_RETRY:
            description:
                short: uORB UART Proxy Retry Count
                long: |
                    Number of retries for failed communications.
                    Higher values provide better reliability but may increase latency
                    during communication failures.
            type: int32
            min: 1
            max: 10
            default: 3

        UART_PROXY_BOARD:
            description:
                short: uORB UART Proxy Board Type
                long: |
                    Board type identification for message routing.
                    This determines which messages are processed by this proxy instance.
            type: int32
            values:
                0: Front Board (handles steering, front motors)
                1: Rear Board (handles boom, bucket, rear motors)
            min: 0
            max: 1
            default: 0
            reboot_required: true
