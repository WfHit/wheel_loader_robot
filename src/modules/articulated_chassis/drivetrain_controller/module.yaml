module_name: Drivetrain Controller

parameters:
  - group: Drivetrain Controller
    definitions:
      DTC_P:
        description:
          short: Drivetrain velocity P gain
          long: Proportional gain for drivetrain speed PID controller
        type: float
        default: 1.0
        min: 0.0
        max: 10.0
        decimal: 3
        unit: ""

      DTC_I:
        description:
          short: Drivetrain velocity I gain
          long: Integral gain for drivetrain speed PID controller
        type: float
        default: 0.1
        min: 0.0
        max: 5.0
        decimal: 3
        unit: ""

      DTC_D:
        description:
          short: Drivetrain velocity D gain
          long: Derivative gain for drivetrain speed PID controller
        type: float
        default: 0.01
        min: 0.0
        max: 1.0
        decimal: 3
        unit: ""

      DTC_I_MAX:
        description:
          short: Drivetrain velocity I max
          long: Maximum integral term for drivetrain speed PID controller
        type: float
        default: 10.0
        min: 0.0
        max: 100.0
        decimal: 1
        unit: ""

      DTC_MAX_SPD:
        description:
          short: Maximum drivetrain speed
          long: Maximum allowed drivetrain speed in rad/s
        type: float
        default: 20.0
        min: 1.0
        max: 50.0
        decimal: 1
        unit: rad/s

      DTC_FILT_HZ:
        description:
          short: Speed filter frequency
          long: Low-pass filter cutoff frequency for speed measurements
        type: float
        default: 10.0
        min: 1.0
        max: 50.0
        decimal: 1
        unit: Hz

      DTC_ENC_ID:
        description:
          short: Encoder device ID
          long: Quad encoder device ID for this drivetrain
        type: int32
        default: 0
        min: 0
        max: 255

      DTC_MOTOR_CH:
        description:
          short: Motor channel
          long: H-bridge motor channel number for this drivetrain
        type: int32
        default: 0
        min: 0
        max: 7

      DTC_FRONT:
        description:
          short: Front drivetrain flag
          long: Set to 1 for front drivetrain, 0 for rear drivetrain
        type: int32
        default: 1
        min: 0
        max: 1

      DTC_TIMEOUT:
        description:
          short: Setpoint timeout
          long: Timeout for speed setpoints in seconds
        type: float
        default: 0.5
        min: 0.1
        max: 10.0
        decimal: 1
        unit: s
